{"ast":null,"code":"import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nimport _imports_0 from '@/assets/ogp.png';\nconst _hoisted_1 = {\n  class: \"container no-padding\"\n};\nconst _hoisted_2 = {\n  class: \"user text-center pt-5 m-3\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"mb-4\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0\n}, null, -1 /* HOISTED */);\nconst _hoisted_5 = {\n  key: 1,\n  class: \"mb-5\"\n};\nconst _hoisted_6 = {\n  key: 3,\n  class: \"text-center pt-5\"\n};\nconst _hoisted_7 = [\"src\"];\nconst _hoisted_8 = {\n  class: \"mb-5\"\n};\nconst _hoisted_9 = {\n  key: 0,\n  class: \"btn btn-dark mb-3\"\n};\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [!$data.loginData ? (_openBlock(), _createElementBlock(\"h3\", _hoisted_3, \"ようこそ！\")) : _createCommentVNode(\"v-if\", true), _hoisted_4, !$data.loginData ? (_openBlock(), _createElementBlock(\"p\", _hoisted_5, \" サービスをお使いになる前にログインが必要です \")) : _createCommentVNode(\"v-if\", true), !$data.loginData ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 2,\n    class: \"btn btn-dark\",\n    onClick: _cache[0] || (_cache[0] = $event => $options.loginWithGoogle())\n  }, \" Google でログイン \")) : _createCommentVNode(\"v-if\", true), $data.loginData ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_createElementVNode(\"img\", {\n    src: 'https://gravatar.com/avatar/' + $data.md5 + '?s=120',\n    class: \"rounded rounded-pill border mb-3\"\n  }, null, 8 /* PROPS */, _hoisted_7), _createElementVNode(\"h4\", null, _toDisplayString($data.userData.displayName), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_8, _toDisplayString($data.userData.email), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _createVNode(_component_router_link, {\n    to: \"/studio\"\n  }, {\n    default: _withCtx(() => [$data.loginData ? (_openBlock(), _createElementBlock(\"button\", _hoisted_9, \" Creator Studio \")) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  }), _hoisted_10, $data.loginData ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 4,\n    class: \"btn btn-dark\",\n    onClick: _cache[1] || (_cache[1] = $event => $options.logout())\n  }, \" サインアウト \")) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"names":["_imports_0","class","_createElementVNode","src","_createElementBlock","_hoisted_1","_hoisted_2","$data","loginData","_hoisted_3","_hoisted_4","_hoisted_5","onClick","_cache","$event","$options","loginWithGoogle","_hoisted_6","md5","_toDisplayString","userData","displayName","_hoisted_8","email","_createVNode","_component_router_link","to","_hoisted_9","_hoisted_10","logout"],"sources":["/Users/moka6652/Desktop/CAPSET-Frontend/src/views/UserView.vue"],"sourcesContent":["<template>\n  <div class=\"container no-padding\">\n    <div class=\"user text-center pt-5 m-3\">\n      <h3 class=\"mb-4\" v-if=\"!loginData\">ようこそ！</h3>\n      <img src=\"@/assets/ogp.png\">\n      <p class=\"mb-5\" v-if=\"!loginData\">\n        サービスをお使いになる前にログインが必要です\n      </p>\n      <button class=\"btn btn-dark\" @click=\"loginWithGoogle()\" v-if=\"!loginData\">\n        Google でログイン\n      </button>\n\n      <div class=\"text-center pt-5\" v-if=\"loginData\">\n        <img\n          :src=\"'https://gravatar.com/avatar/' + md5 + '?s=120'\"\n          class=\"rounded rounded-pill border mb-3\"\n        />\n        <h4>{{ userData.displayName }}</h4>\n        <p class=\"mb-5\">{{ userData.email }}</p>\n      </div>\n      <router-link to=\"/studio\">\n        <button class=\"btn btn-dark mb-3\" v-if=\"loginData\">\n          Creator Studio\n        </button>\n      </router-link>\n      <br />\n      <button class=\"btn btn-dark\" @click=\"logout()\" v-if=\"loginData\">\n        サインアウト\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport firebase from \"firebase/app\";\nimport forge from \"node-forge\";\n\nexport default {\n  data() {\n    return {\n      userData: \"\",\n      loginData: false,\n      md5: \"\",\n    };\n  },\n  created() {\n    firebase.auth().onAuthStateChanged((user) => {\n      if (user) {\n        this.userData = user;\n\n        // user.email を md5 に変換\n        const md = forge.md.md5.create();\n        md.update(user.email);\n        this.md5 = md.digest().toHex();\n\n        this.loginData = true;\n      } else {\n        this.loginData = false;\n      }\n    });\n  },\n  methods: {\n    async loginWithGoogle() {\n      const provider = new firebase.auth.GoogleAuthProvider();\n      await firebase.auth().signInWithPopup(provider);\n    },\n    async logout() {\n      await firebase.auth().signOut();\n    },\n  },\n};\n</script>"],"mappings":";OAIWA,UAAsB;;EAH1BC,KAAK,EAAC;AAAsB;;EAC1BA,KAAK,EAAC;AAA2B;;;EAChCA,KAAK,EAAC;;gCACVC,mBAAA,CAA4B;EAAvBC,GAAsB,EAAtBH;AAAsB;;;EACxBC,KAAK,EAAC;;;;EAOJA,KAAK,EAAC;;;;EAMNA,KAAK,EAAC;AAAM;;;EAGPA,KAAK,EAAC;;iCAIhBC,mBAAA,CAAM;;;;uBAxBVE,mBAAA,CA6BM,OA7BNC,UA6BM,GA5BJH,mBAAA,CA2BM,OA3BNI,UA2BM,G,CA1BoBC,KAAA,CAAAC,SAAS,I,cAAjCJ,mBAAA,CAA6C,MAA7CK,UAA6C,EAAV,OAAK,K,mCACxCC,UAA4B,E,CACLH,KAAA,CAAAC,SAAS,I,cAAhCJ,mBAAA,CAEI,KAFJO,UAEI,EAF8B,0BAElC,K,oCAC+DJ,KAAA,CAAAC,SAAS,I,cAAxEJ,mBAAA,CAES;;IAFDH,KAAK,EAAC,cAAc;IAAEW,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,eAAe;KAAsB,gBAE1E,K,mCAEoCT,KAAA,CAAAC,SAAS,I,cAA7CJ,mBAAA,CAOM,OAPNa,UAOM,GANJf,mBAAA,CAGE;IAFCC,GAAG,mCAAmCI,KAAA,CAAAW,GAAG;IAC1CjB,KAAK,EAAC;uCAERC,mBAAA,CAAmC,YAAAiB,gBAAA,CAA5BZ,KAAA,CAAAa,QAAQ,CAACC,WAAW,kBAC3BnB,mBAAA,CAAwC,KAAxCoB,UAAwC,EAAAH,gBAAA,CAArBZ,KAAA,CAAAa,QAAQ,CAACG,KAAK,iB,wCAEnCC,YAAA,CAIcC,sBAAA;IAJDC,EAAE,EAAC;EAAS;sBACvB,MAES,CAF+BnB,KAAA,CAAAC,SAAS,I,cAAjDJ,mBAAA,CAES,UAFTuB,UAES,EAF0C,kBAEnD,K;;MAEFC,WAAM,EAC+CrB,KAAA,CAAAC,SAAS,I,cAA9DJ,mBAAA,CAES;;IAFDH,KAAK,EAAC,cAAc;IAAEW,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAc,MAAM;KAAqB,UAEhE,K"},"metadata":{},"sourceType":"module","externalDependencies":[]}