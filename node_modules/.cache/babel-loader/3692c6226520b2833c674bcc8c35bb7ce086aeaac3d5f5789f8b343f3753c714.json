{"ast":null,"code":"import firebase from \"firebase/app\";\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      textLine: false,\n      username: \"\",\n      email: \"\",\n      title: \"\",\n      detail: \"\"\n    };\n  },\n  watch: {\n    title(newVal) {\n      if (newVal.length > 0) {\n        this.textLine = true;\n      } else {\n        this.textLine = false;\n      }\n    }\n  },\n  created() {\n    firebase.auth().onAuthStateChanged(user => {\n      this.username = user.displayName;\n      this.email = user.email;\n    });\n  },\n  methods: {\n    createLive() {\n      axios.post(\"https://capset-backend-api.glitch.me/post\" + \"?username=\" + this.username + \"&email=\" + this.email + \"&title=\" + this.title + \"&detail=\" + this.detail).then(response => {\n        console.log(response.data);\n        alert(\"ライブ配信を作成しました！\");\n        // リロード\n        this.$router.go({\n          path: this.$router.currentRoute.path,\n          force: true\n        });\n      }).catch(error => {\n        console.log(error);\n        alert(\"ライブ配信を作成できませんでした...\\n既にライブ配信を作成している場合は削除してからもう一度お試しください。\");\n      });\n    }\n  }\n};","map":{"version":3,"names":["firebase","axios","data","textLine","username","email","title","detail","watch","newVal","length","created","auth","onAuthStateChanged","user","displayName","methods","createLive","post","then","response","console","log","alert","$router","go","path","currentRoute","force","catch","error"],"sources":["/Users/moka6652/Desktop/CAPSET-Frontend/src/views/CreateView.vue"],"sourcesContent":["<template>\n  <div class=\"user pt-5 m-3\">\n    <h4 class=\"mb-5\">新規ライブを作成</h4>\n    <form @submit.prevent=\"createLive\">\n      <div class=\"mb-3\">\n        <label class=\"form-label\">タイトル</label>\n        <input v-model=\"title\" class=\"form-control\" placeholder=\"タイトルを入力\" />\n      </div>\n      <div class=\"mb-5\">\n        <label class=\"form-label\">概要</label>\n        <textarea\n          v-model=\"detail\"\n          class=\"form-control\"\n          rows=\"5\"\n          placeholder=\"概要を入力\"\n        ></textarea>\n      </div>\n      <button v-if=\"textLine\" type=\"submit\" class=\"btn btn-dark btn-block\">これでライブを作成する！</button>\n    </form>\n  </div>\n</template>\n  \n<script>\nimport firebase from \"firebase/app\";\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      textLine: false,\n      username: \"\",\n      email: \"\",\n      title: \"\",\n      detail: \"\",\n    };\n  },\n  watch: {\n    title(newVal) {\n        if (newVal.length > 0) {\n            this.textLine = true;\n        } else {\n            this.textLine = false;\n        }\n    }\n  },\n  created() {\n    firebase.auth().onAuthStateChanged((user) => {\n      this.username = user.displayName;\n      this.email = user.email;\n    });\n  },\n  methods: {\n    createLive() {\n      axios\n        .post(\n          \"https://capset-backend-api.glitch.me/post\" +\n            \"?username=\" +\n            this.username +\n            \"&email=\" +\n            this.email +\n            \"&title=\" +\n            this.title +\n            \"&detail=\" +\n            this.detail\n        )\n        .then((response) => {\n          console.log(response.data);\n          alert(\"ライブ配信を作成しました！\");\n          // リロード\n          this.$router.go({\n            path: this.$router.currentRoute.path,\n            force: true,\n          });\n        })\n        .catch((error) => {\n          console.log(error);\n          alert(\"ライブ配信を作成できませんでした...\\n既にライブ配信を作成している場合は削除してからもう一度お試しください。\");\n        });\n    },\n  },\n};\n</script>"],"mappings":"AAuBA,OAAOA,QAAO,MAAO,cAAc;AACnC,OAAOC,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,KAAK;MACfC,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,EAAE;MACTC,MAAM,EAAE;IACV,CAAC;EACH,CAAC;EACDC,KAAK,EAAE;IACLF,KAAKA,CAACG,MAAM,EAAE;MACV,IAAIA,MAAM,CAACC,MAAK,GAAI,CAAC,EAAE;QACnB,IAAI,CAACP,QAAO,GAAI,IAAI;MACxB,OAAO;QACH,IAAI,CAACA,QAAO,GAAI,KAAK;MACzB;IACJ;EACF,CAAC;EACDQ,OAAOA,CAAA,EAAG;IACRX,QAAQ,CAACY,IAAI,EAAE,CAACC,kBAAkB,CAAEC,IAAI,IAAK;MAC3C,IAAI,CAACV,QAAO,GAAIU,IAAI,CAACC,WAAW;MAChC,IAAI,CAACV,KAAI,GAAIS,IAAI,CAACT,KAAK;IACzB,CAAC,CAAC;EACJ,CAAC;EACDW,OAAO,EAAE;IACPC,UAAUA,CAAA,EAAG;MACXhB,KAAI,CACDiB,IAAI,CACH,2CAA0C,GACxC,YAAW,GACX,IAAI,CAACd,QAAO,GACZ,SAAQ,GACR,IAAI,CAACC,KAAI,GACT,SAAQ,GACR,IAAI,CAACC,KAAI,GACT,UAAS,GACT,IAAI,CAACC,MAAK,CACd,CACCY,IAAI,CAAEC,QAAQ,IAAK;QAClBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAClB,IAAI,CAAC;QAC1BqB,KAAK,CAAC,eAAe,CAAC;QACtB;QACA,IAAI,CAACC,OAAO,CAACC,EAAE,CAAC;UACdC,IAAI,EAAE,IAAI,CAACF,OAAO,CAACG,YAAY,CAACD,IAAI;UACpCE,KAAK,EAAE;QACT,CAAC,CAAC;MACJ,CAAC,EACAC,KAAK,CAAEC,KAAK,IAAK;QAChBT,OAAO,CAACC,GAAG,CAACQ,KAAK,CAAC;QAClBP,KAAK,CAAC,0DAA0D,CAAC;MACnE,CAAC,CAAC;IACN;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}