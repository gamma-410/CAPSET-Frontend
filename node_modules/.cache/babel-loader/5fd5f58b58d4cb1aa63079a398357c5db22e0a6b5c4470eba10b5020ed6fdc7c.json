{"ast":null,"code":"import firebase from \"firebase/app\";\nimport forge from \"node-forge\";\nexport default {\n  data() {\n    return {\n      userData: \"\",\n      loginData: false,\n      md5: \"\"\n    };\n  },\n  created() {\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        this.userData = user;\n\n        // user.email を md5 に変換\n        const md = forge.md.md5.create();\n        md.update(user.email);\n        this.md5 = md.digest().toHex();\n        this.loginData = true;\n      } else {\n        this.loginData = false;\n      }\n    });\n  },\n  methods: {\n    async loginWithGoogle() {\n      const provider = new firebase.auth.GoogleAuthProvider();\n      await firebase.auth().signInWithPopup(provider);\n    },\n    async logout() {\n      await firebase.auth().signOut();\n    }\n  }\n};","map":{"version":3,"names":["firebase","forge","data","userData","loginData","md5","created","auth","onAuthStateChanged","user","md","create","update","email","digest","toHex","methods","loginWithGoogle","provider","GoogleAuthProvider","signInWithPopup","logout","signOut"],"sources":["/Users/moka6652/Desktop/CAPSET-Frontend/src/views/UserView.vue"],"sourcesContent":["<template>\n  <div class=\"container no-padding\">\n    <div class=\"user text-center pt-5 m-3\">\n      <img class=\"mb-4\" width=\"300\" src=\"@/assets/logo.svg\">\n      <p class=\"mb-5\" v-if=\"!loginData\">\n        サービスをお使いになる前にログインが必要です\n      </p>\n      <button class=\"btn btn-dark\" @click=\"loginWithGoogle()\" v-if=\"!loginData\">\n        Google でログイン\n      </button>\n\n      <div class=\"text-center pt-5\" v-if=\"loginData\">\n        <img\n          :src=\"'https://gravatar.com/avatar/' + md5 + '?s=120'\"\n          class=\"rounded rounded-pill border mb-3\"\n        />\n        <h4>{{ userData.displayName }}</h4>\n        <p class=\"mb-5\">{{ userData.email }}</p>\n      </div>\n      <router-link to=\"/studio\">\n        <button class=\"btn btn-dark mb-3\" v-if=\"loginData\">\n          Creator Studio\n        </button>\n      </router-link>\n      <br />\n      <button class=\"btn btn-dark\" @click=\"logout()\" v-if=\"loginData\">\n        サインアウト\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport firebase from \"firebase/app\";\nimport forge from \"node-forge\";\n\nexport default {\n  data() {\n    return {\n      userData: \"\",\n      loginData: false,\n      md5: \"\",\n    };\n  },\n  created() {\n    firebase.auth().onAuthStateChanged((user) => {\n      if (user) {\n        this.userData = user;\n\n        // user.email を md5 に変換\n        const md = forge.md.md5.create();\n        md.update(user.email);\n        this.md5 = md.digest().toHex();\n\n        this.loginData = true;\n      } else {\n        this.loginData = false;\n      }\n    });\n  },\n  methods: {\n    async loginWithGoogle() {\n      const provider = new firebase.auth.GoogleAuthProvider();\n      await firebase.auth().signInWithPopup(provider);\n    },\n    async logout() {\n      await firebase.auth().signOut();\n    },\n  },\n};\n</script>"],"mappings":"AAiCA,OAAOA,QAAO,MAAO,cAAc;AACnC,OAAOC,KAAI,MAAO,YAAY;AAE9B,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,SAAS,EAAE,KAAK;MAChBC,GAAG,EAAE;IACP,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACRN,QAAQ,CAACO,IAAI,EAAE,CAACC,kBAAkB,CAAEC,IAAI,IAAK;MAC3C,IAAIA,IAAI,EAAE;QACR,IAAI,CAACN,QAAO,GAAIM,IAAI;;QAEpB;QACA,MAAMC,EAAC,GAAIT,KAAK,CAACS,EAAE,CAACL,GAAG,CAACM,MAAM,EAAE;QAChCD,EAAE,CAACE,MAAM,CAACH,IAAI,CAACI,KAAK,CAAC;QACrB,IAAI,CAACR,GAAE,GAAIK,EAAE,CAACI,MAAM,EAAE,CAACC,KAAK,EAAE;QAE9B,IAAI,CAACX,SAAQ,GAAI,IAAI;MACvB,OAAO;QACL,IAAI,CAACA,SAAQ,GAAI,KAAK;MACxB;IACF,CAAC,CAAC;EACJ,CAAC;EACDY,OAAO,EAAE;IACP,MAAMC,eAAeA,CAAA,EAAG;MACtB,MAAMC,QAAO,GAAI,IAAIlB,QAAQ,CAACO,IAAI,CAACY,kBAAkB,EAAE;MACvD,MAAMnB,QAAQ,CAACO,IAAI,EAAE,CAACa,eAAe,CAACF,QAAQ,CAAC;IACjD,CAAC;IACD,MAAMG,MAAMA,CAAA,EAAG;MACb,MAAMrB,QAAQ,CAACO,IAAI,EAAE,CAACe,OAAO,EAAE;IACjC;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}